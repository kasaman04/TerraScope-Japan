# モーダル改善修正メモ

## 実施日
2025-07-23

## 修正内容

### 1. 都市画像の更新
- **対象**: `/public/assets/images/cities/` 内の都市画像
- **修正**: Wikipediaからモンタージュ画像をダウンロードして更新
- **更新した都市**:
  - asahikawa.jpg (旭川市)
  - iwamizawa.jpg (岩見沢市) 
  - kushiro.jpg (釧路市)
  - muroran.jpg (室蘭市)
  - obihiro.jpg (帯広市)
  - otaru.jpg (小樽市)
  - tomakomai.jpg (苫小牧市)

### 2. モーダルの「閉じる」ボタン削除
- **対象ファイル**: `/src/components/CityModal.astro`
- **修正内容**:
  - 右上のXボタン（×）を削除（26-27行目）
  - 下部の「閉じる」ボタンを削除（90-94行目）
  - 「詳しい記事を見る」ボタンを全幅表示に変更
- **残存機能**: 背景クリック・ESCキーでの閉じる機能は維持

## 適用対象
`https://kasaman04.github.io/TerraScope-Japan/ja/blog/〇〇/` の各都道府県ページ階層

## 実装の違い比較

### testページ (修正済み)
- **コンポーネント**: `CityModal.astro` を使用
- **モーダル構造**: Astroコンポーネントベース
- **閉じるボタン**: 削除済み（背景クリックとESCキーのみ）
- **アクションボタン**: 「詳しい記事を見る」のみ（全幅）

### hokkaidoページ (未修正)
- **実装方式**: インラインモーダル（392-443行目）
- **JavaScript**: インラインスクリプト（445-717行目）
- **閉じるボタン**: 
  - 右上のXボタン（395行目）
  - 下部の「閉じる」ボタン（437-440行目）
- **アクションボタン**: 
  - 「詳しい記事を見る」（434-436行目）
  - 「閉じる」（437-440行目）

### 修正が必要な箇所
1. `/src/pages/ja/blog/hokkaido/index.astro` の395行目：Xボタン削除
2. 同ファイル437-440行目：「閉じる」ボタン削除
3. 434-436行目のボタンを全幅に変更

## 技術詳細
- 画像サイズ: 330px幅のWikipedia公式モンタージュ画像
- ファイル形式: JPEG
- モーダルUI: TailwindCSSのflex、grid、transition使用

## コミット情報
- コミット: "Update city images from Wikipedia"
- 変更: 7ファイルの画像更新 + 1ファイルのモーダル修正