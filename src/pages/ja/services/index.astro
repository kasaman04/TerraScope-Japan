---
import BaseLayout from '../../../layouts/BaseLayout.astro';
import ServiceCards from '../../../components/ServiceCards.astro';
import PricingTable from '../../../components/PricingTable.astro';
import Accordion from '../../../components/Accordion.astro';
import { sanity } from "../../../lib/sanity";

const title = "外国人向け不動産調査サービス – 安心して住める日本生活を";
const description = "日本での生活が不安な外国人の方へ。3つのサポートプランで、災害リスクから生活手続きまで徹底サポート。言語の壁も解消します。";
const lang = "ja";
const hero_bg = "/assets/img/hero-services.jpg";

// Fetch services from Sanity with fallback
let services = [];
try {
  if (sanity) {
    services = await sanity.fetch(`*[_type=="service"]{
      key, title, price, bullets
    }`);
  }
} catch (error) {
  console.log('Sanity fetch error, using fallback data:', error.message);
  // Fallback data until Sanity is properly configured
  services = [
    {
      key: "light",
      title: "ライトプラン",
      subtitle: "基本情報サポートで最低限の安心を提供",
      price: "¥50,000",
      bullets: [
        "地域・物件の基本調査（周辺環境、交通アクセス、治安データ）",
        "災害リスクチェック（簡易版）- ハザードマップ確認",
        "生活利便性確認（駅・病院・スーパー等の位置）",
        "メールサポート（日本語資料の英語解説）",
        "3営業日以内のレポート納品"
      ]
    },
    {
      key: "standard",
      title: "スタンダードプラン",
      subtitle: "充実調査サポートで不安をしっかり解消",
      price: "¥120,000",
      bullets: [
        "詳細な現地リサーチ（昼夜の環境、住民の雰囲気）",
        "行政・手続き情報サポート（住民登録、ゴミ出しルール等）",
        "災害・安全対策の詳細（避難所、耐震性能、防災アプリ案内）",
        "双方向コンサルティング（バイリンガルスタッフ対応）",
        "15ページ詳細レポート＋オンライン相談"
      ]
    },
    {
      key: "premium",
      title: "プレミアムプラン",
      subtitle: "手厚い総合サポートで万全の安心を提供",
      price: "¥300,000",
      bullets: [
        "パーソナル同行・現地案内（動画・写真記録）",
        "契約・引越しサポート（不動産会社とのやりとり支援）",
        "生活サービスの包括支援（病院通訳、学校見学同行等）",
        "緊急時サポート（24時間多言語ホットライン案内）",
        "入居後30日間の生活ヘルプデスク"
      ]
    }
  ];
}
---

<BaseLayout title={title} description={description} lang={lang}>
  <!-- Hero Section -->
  <section class="relative overflow-hidden">
    <div class="absolute inset-0 bg-gradient-to-br from-blue-600 via-purple-600 to-green-600"></div>
    <img 
      src={hero_bg} 
      alt="" 
      class="w-full h-[60vh] md:h-[70vh] object-cover opacity-30"
      loading="eager"
      onerror="this.style.display='none'"
    >
    <div class="absolute inset-0 flex flex-col items-center justify-center text-white px-4 sm:px-6 lg:px-8 text-center">
      <div class="max-w-5xl mx-auto">
        <div class="mb-6">
          <span class="inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold bg-white/20 backdrop-blur-sm border border-white/30">
            🌍 外国人専門サポート
          </span>
        </div>
        <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold mb-6 leading-tight">
          <span class="bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent">
            安心して住める
          </span><br>
          <span class="text-white">日本生活を</span>
        </h1>
        <p class="text-xl md:text-2xl max-w-3xl mx-auto mb-8 leading-relaxed opacity-95">
          外国人の不安を解消する3つのサポートプラン。<br class="hidden sm:block">
          災害対策から生活手続きまで、言語の壁なくサポートします。
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a 
            href="#services" 
            class="inline-flex items-center px-8 py-4 bg-white text-blue-600 font-semibold rounded-full hover:bg-blue-50 transition-all duration-300 shadow-xl hover:shadow-2xl hover:scale-105"
          >
            📋 プランを見る
          </a>
          <a 
            href="#faq" 
            class="inline-flex items-center px-8 py-4 bg-white/20 backdrop-blur-sm text-white font-semibold rounded-full border border-white/30 hover:bg-white/30 transition-all duration-300"
          >
            ❓ よくある質問
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Services Overview -->
  <section id="services" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 lg:py-24">
    <div class="text-center mb-16">
      <div class="inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold bg-blue-100 text-blue-800 mb-6">
        🛡️ 安心のサポートプラン
      </div>
      <h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-6 leading-tight">
        「安心して住める」ための<br class="hidden sm:block">
        <span class="bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">
          サービスプラン比較
        </span>
      </h2>
      <p class="text-xl text-gray-600 max-w-4xl mx-auto leading-relaxed">
        日本に慣れていない外国人でも安心して住めるよう、3つのサービスプランをご用意。<br class="hidden md:block">
        それぞれサポート範囲と安心感のレベルが異なり、あなたの不安解消に応じて選択できます。
      </p>
    </div>

    <!-- Plan Selection Guide -->
    <div class="bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl p-6 lg:p-8 mb-16 border border-blue-100">
      <div class="flex flex-col lg:flex-row items-start lg:items-center space-y-4 lg:space-y-0 lg:space-x-6">
        <div class="flex-shrink-0">
          <div class="w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-500 rounded-2xl flex items-center justify-center shadow-lg">
            <span class="text-3xl">🤔</span>
          </div>
        </div>
        <div class="flex-1">
          <h3 class="text-xl lg:text-2xl font-bold text-gray-900 mb-4">どのプランが適切かわからない方へ</h3>
          <div class="grid md:grid-cols-3 gap-4 text-sm lg:text-base">
            <div class="bg-white rounded-lg p-4 border border-blue-200">
              <div class="font-semibold text-blue-600 mb-2">🛡️ ライトプラン</div>
              <p class="text-gray-700">「とりあえず基本は安心」したい方</p>
            </div>
            <div class="bg-white rounded-lg p-4 border border-green-200">
              <div class="font-semibold text-green-600 mb-2">⭐ スタンダードプラン</div>
              <p class="text-gray-700">「現地で困らないかな？」という不安をかなり軽減したい方</p>
            </div>
            <div class="bg-white rounded-lg p-4 border border-purple-200">
              <div class="font-semibold text-purple-600 mb-2">👑 プレミアムプラン</div>
              <p class="text-gray-700">「困ったときは任せられる」完全な安心を求める方</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <ServiceCards services={services} lang={lang} />
  </section>

  <!-- How it Works -->
  <section class="bg-gradient-to-b from-gray-50 to-white py-16 lg:py-24">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16">
        <div class="inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold bg-green-100 text-green-800 mb-6">
          📋 サポートプロセス
        </div>
        <h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-6">
          安心サポートの流れ
        </h2>
        <p class="text-xl text-gray-600 max-w-3xl mx-auto">
          外国人の不安に寄り添い、母国語で安心して相談できる3ステップ
        </p>
      </div>

      <div class="grid md:grid-cols-3 gap-8 lg:gap-12">
        <div class="text-center group">
          <div class="relative mb-6">
            <div class="bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-2xl p-6 mb-4 w-20 h-20 mx-auto flex items-center justify-center shadow-xl group-hover:scale-110 transition-transform duration-300">
              <span class="text-3xl font-bold">1</span>
            </div>
            <div class="absolute -top-2 -right-2 bg-blue-100 text-blue-600 rounded-full p-2">
              <span class="text-2xl">🗣️</span>
            </div>
          </div>
          <h3 class="text-2xl font-bold mb-4 text-gray-900">多言語で無料相談</h3>
          <p class="text-gray-600 leading-relaxed">
            英語でお気軽にご相談ください。あなたの不安や希望をお聞かせし、最適なプランをご提案します。
          </p>
        </div>

        <div class="text-center group">
          <div class="relative mb-6">
            <div class="bg-gradient-to-br from-green-500 to-green-600 text-white rounded-2xl p-6 mb-4 w-20 h-20 mx-auto flex items-center justify-center shadow-xl group-hover:scale-110 transition-transform duration-300">
              <span class="text-3xl font-bold">2</span>
            </div>
            <div class="absolute -top-2 -right-2 bg-green-100 text-green-600 rounded-full p-2">
              <span class="text-2xl">🔍</span>
            </div>
          </div>
          <h3 class="text-2xl font-bold mb-4 text-gray-900">安心サポート実施</h3>
          <p class="text-gray-600 leading-relaxed">
            バイリンガルスタッフが災害リスクから生活手続きまで、必要な情報を徹底調査。あなたの状況に合わせてカスタマイズします。
          </p>
        </div>

        <div class="text-center group">
          <div class="relative mb-6">
            <div class="bg-gradient-to-br from-purple-500 to-purple-600 text-white rounded-2xl p-6 mb-4 w-20 h-20 mx-auto flex items-center justify-center shadow-xl group-hover:scale-110 transition-transform duration-300">
              <span class="text-3xl font-bold">3</span>
            </div>
            <div class="absolute -top-2 -right-2 bg-purple-100 text-purple-600 rounded-full p-2">
              <span class="text-2xl">🤝</span>
            </div>
          </div>
          <h3 class="text-2xl font-bold mb-4 text-gray-900">継続サポート</h3>
          <p class="text-gray-600 leading-relaxed">
            英語レポートとオンライン相談で詳細説明。入居後も一定期間は困り事相談でき、日本生活のヘルプデスクとして活用してください。
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section id="faq" class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-16 lg:py-24">
    <div class="text-center mb-16">
      <div class="inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold bg-yellow-100 text-yellow-800 mb-6">
        ❓ よくあるご質問
      </div>
      <h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-6 leading-tight">
        日本での生活に関する<br class="hidden sm:block">
        <span class="bg-gradient-to-r from-yellow-600 to-orange-600 bg-clip-text text-transparent">
          外国人のよくある疑問・不安FAQ
        </span>
      </h2>
      <p class="text-xl text-gray-600 max-w-3xl mx-auto">
        日本への移住を検討する外国人が抱きがちな不安や疑問点にお答えします
      </p>
    </div>
    
    <Accordion items={[
      {
        question: "🌊 日本は地震など災害が多いと聞きますが、安全に暮らせますか？災害対策は大丈夫？",
        answer: "**日本は災害大国ですが、準備と地域情報次第で安心して暮らせます。**確かに外国人にとって自然災害への不安は日本人以上に大きいものです。しかし各自治体はハザードマップを公開しており、当サービスでも調査報告書に地域の災害リスクと避難所を明記します。耐震性の高い物件選びも重要です（プレミアムプランでは耐震性能の確認も実施）。また非常時に備え、緊急速報を多言語で受信できるアプリや、防災セット準備など具体的アドバイスも提供します。**適切な備えと情報さえあれば、過度に怖がる必要はありません。**万一災害が起きても、避難方法や連絡手段を事前に知っておけば落ち着いて対処できます。"
      },
      {
        question: "📋 入国後に必要な住民登録や銀行口座開設などの手続きが心配です。言葉も不安ですがどうすれば？",
        answer: "役所の手続きもサポートしますので大丈夫です。日本に中長期で住む場合、14日以内に市区町村役所で住民登録を行い、マイナンバー通知を受け取る必要があります。その後、国民健康保険の加入手続きや銀行口座開設などもありますが、当サービスのスタンダードプラン以上では必要な手順を英語でご案内します。書類は日本語が基本ですが、自治体によっては英語や他言語の案内資料があります。また当社スタッフが手続き方法を事前にリサーチしてお伝えし、プレミアムプランなら役所への同行も可能です。郵便局での住所変更や携帯電話契約などもチェックリスト付きでサポートしますので、「何をすればいいか分からない」という不安を取り除きます。"
      },
      {
        question: "🚇 公共交通や移動手段はどうでしょうか？車が無くても生活できますか？",
        answer: "都市部なら車がなくても生活できますが、地域によります。日本の大都市圏は電車・バス網が発達しており、路線図や乗換は最初は複雑に感じるかもしれませんが、慣れれば効率よく移動できます。弊社レポートでは最寄り駅やバス停までの距離、主要エリアへの所要時間など交通アクセス情報も提供します。地方や郊外では車があったほうが便利な場合もあるため、その地域で日常生活に車が必要かもアドバイスします。国際免許で当面運転する方法や、日本で運転免許証を取得・切替する手順もご案内可能です。基本的に日本は公共交通が時間に正確で安全なので、多くの外国人は車なしでも不自由なく過ごしています。"
      },
      {
        question: "🗣️ 日本語が話せません。言葉の壁がすごく心配ですが、生活できますか？",
        answer: "日本語ができなくても生活は可能ですが、工夫とサポートが必要です。実際、日本在住外国人にとって最大の課題は言葉の壁です。日常会話や買い物、役所の書類手続きまで日本語だらけで苦労するでしょう。しかし近年、多くの標識や電車内アナウンスは英語併記されてきましたし、翻訳アプリを使って乗り切る人もいます。当サービスでは主要な書類や契約の内容を英語で解説したり、必要に応じて通訳を手配するなどフォローします。また、自治体によっては日本語を学べる教室や、多文化共生センターでの相談窓口があります。プレミアムプランでは緊急時に英語で相談できる窓口案内や、日本語サポートが充実した地域の情報も提供します。当社スタッフは英語のバイリンガル対応ですので、困ったことがあれば母国語でお気軽にお問い合わせいただけます。"
      },
      {
        question: "🏥 病気になったときちゃんと医療を受けられるか心配です。英語の通じる病院はありますか？",
        answer: "医療体制は整っており、英語対応の病院も探せます。日本には世界水準の医療サービスと全国民共通の公的医療保険制度があります。入居後は国民健康保険に加入すれば医療費の負担は原則30%になります。ただ問題は言葉で、英語を話せる医療スタッフは大都市以外では限られることが多いです。そこで弊社では英語対応可能な近隣の病院やクリニック情報をお伝えします。例えば○○区なら英語OKの内科が徒歩15分にある、救急のかかり方はこうだ、といった具体情報です。また夜間や休日の急病時に対応してくれる多言語医療情報ラインや、119番への伝え方なども案内します。プレミアムプランでは、必要に応じ専門の医療通訳サービスを紹介したり、病院予約を代行することも可能です。"
      },
      {
        question: "🎓 子どもがいるのですが、日本でちゃんと教育を受けられるでしょうか？学校に馴染めるか不安です。",
        answer: "外国人の子どもも日本の学校で教育を受けることが可能です。公立の小中学校は国籍に関係なく入学できますし、授業料も無料です。実際、日本に長く暮らす外国人にとって「子どもの教育」は大きな不安要素の一つですが、多くの自治体では外国人児童向けの日本語指導教室やサポート体制があります。とはいえ言葉や文化の違いで学校にうまく馴染めないケースも多いようです。そのため、当サービスでは学区の情報や学校の多文化支援状況を調査し、ご報告します。例えば日本語支援クラスの有無、同じ言語を話す児童がいるか、国際バカロレア認定校かどうか等です。必要ならインターナショナルスクールの紹介も行い、入学手続きの流れもお手伝いします。お子様が十分な教育を受けられるよう、一緒に最適な環境を見つけるサポートをいたします。"
      },
      {
        question: "🏠 日本の賃貸契約は保証人や初期費用の負担が大変と聞きますが、外国人にはハードルが高いですか？",
        answer: "確かに日本の賃貸契約は独特ですが、近年は外国人向けの仕組みも整っています。日本では賃貸契約時に「連帯保証人」を求められることが多く、身近に日本人の保証人がいない外国人にとって大きな障壁でした。加えて敷金・礼金・仲介手数料など初期費用が家賃数ヶ月分にも及び、驚く方も多いです。しかし最近では保証会社という制度が発達しており、保証人がいなくても所定の保証料を支払えば契約できるケースが増えています。また外国人入居可・保証人不要の物件も徐々に増加しています。弊社サービスでは、物件選びの段階で初期費用や保証人条件についても確認し、負担の少ない選択肢をご提案します。例えば敷金・礼金ゼロ物件の情報提供や、初期費用をクレジットカード決済できる物件も紹介可能です。契約内容も丁寧に解説し、トラブルになりやすいポイントも事前に説明します。"
      },
      {
        question: "👥 近所付き合いや文化の違いが心配です。騒音やゴミ出しなどマナーを知らずにトラブルにならないでしょうか？",
        answer: "**地域のルールと文化の違いを理解すれば、トラブルは防げます。**日本では「音を立てない」「ゴミの分別を守る」など細かな生活マナーがあります。例えばゴミ出しルールを誤ると近隣トラブルにつながることもあります。当サービスでは各自治体のゴミ出し曜日や分別方法、騒音に関する条例（夜何時以降は静かに、など）を調査し、入居前にルールブックとして提供します。また地域の自治会活動や、近所への手土産習慣（引っ越し時に挨拶するか等）についてもアドバイスします。外国人だからといって特別視されないか不安になるかもしれませんが、日本は全体的に治安も良く安全な社会です。むしろ控えめで干渉しすぎない傾向があるため、最低限のルールを守っていれば穏やかに暮らせます。困ったときは地域の国際交流協会などに相談することもできます。文化の違いによる戸惑いは、一つ一つサポートしながら解決していきましょう。"
      }
    ]} />
  </section>

  <!-- CTA Section -->
  <section class="relative overflow-hidden py-20 lg:py-32">
    <div class="absolute inset-0 bg-gradient-to-br from-blue-600 via-purple-600 to-green-600"></div>
    <div class="absolute inset-0 bg-black/20"></div>
    
    <!-- Background Pattern -->
    <div class="absolute inset-0 opacity-10">
      <div class="absolute top-10 left-10 w-20 h-20 bg-white rounded-full"></div>
      <div class="absolute top-32 right-20 w-16 h-16 bg-white rounded-full"></div>
      <div class="absolute bottom-20 left-32 w-12 h-12 bg-white rounded-full"></div>
      <div class="absolute bottom-10 right-10 w-24 h-24 bg-white rounded-full"></div>
    </div>
    
    <div class="relative max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 text-center text-white">
      <div class="mb-8">
        <span class="inline-flex items-center px-6 py-3 rounded-full text-lg font-semibold bg-white/20 backdrop-blur-sm border border-white/30">
          🌟 今すぐ始めませんか？
        </span>
      </div>
      
      <h2 class="text-4xl md:text-5xl lg:text-6xl font-bold mb-8 leading-tight">
        安心して<span class="bg-gradient-to-r from-yellow-300 to-orange-300 bg-clip-text text-transparent">日本生活</span>を<br class="hidden sm:block">
        始めませんか？
      </h2>
      
      <p class="text-xl md:text-2xl mb-12 opacity-95 max-w-3xl mx-auto leading-relaxed">
        言語の壁や文化の違いで不安なことがあっても、私たちがサポートします。<br class="hidden md:block">
        まずはお気軽に、<strong>英語でご相談</strong>ください。
      </p>
      
      <div class="flex flex-col sm:flex-row gap-6 justify-center mb-12">
        <a 
          href="/ja/contact/" 
          class="group inline-flex items-center justify-center px-10 py-5 bg-white text-blue-600 font-bold text-lg rounded-2xl hover:bg-blue-50 transition-all duration-300 shadow-2xl hover:shadow-3xl hover:scale-105 transform"
        >
          <span class="text-2xl mr-3">🗣️</span>
          無料相談を申し込む
          <svg class="w-6 h-6 ml-3 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
          </svg>
        </a>
        
        <a 
          href="#" 
          class="inline-flex items-center justify-center px-10 py-5 bg-white/20 backdrop-blur-sm text-white font-bold text-lg rounded-2xl border-2 border-white/30 hover:bg-white/30 transition-all duration-300"
        >
          <span class="text-2xl mr-3">📄</span>
          サービス資料をダウンロード
        </a>
      </div>
      
      <div class="grid sm:grid-cols-3 gap-6 max-w-3xl mx-auto">
        <div class="flex items-center justify-center space-x-2 bg-white/10 backdrop-blur-sm rounded-lg py-3 px-4">
          <span class="text-2xl">⚡</span>
          <span class="font-semibold">24時間以内に返信</span>
        </div>
        <div class="flex items-center justify-center space-x-2 bg-white/10 backdrop-blur-sm rounded-lg py-3 px-4">
          <span class="text-2xl">🌍</span>
          <span class="font-semibold">英語・日本語対応</span>
        </div>
        <div class="flex items-center justify-center space-x-2 bg-white/10 backdrop-blur-sm rounded-lg py-3 px-4">
          <span class="text-2xl">💯</span>
          <span class="font-semibold">完全無料</span>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>